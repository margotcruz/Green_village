{% extends 'base.html.twig' %} 

{% block body %}

<main>
  <section class="hero-banner position-relative">
    <div
      id="carouselExampleIndicators"
      class="carousel slide"
      data-bs-ride="carousel"
    >
      <div class="carousel-indicators">
        <button
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide-to="0"
          class="active"
          aria-current="true"
          aria-label="Slide 1"
        ></button>
        <button
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide-to="1"
          aria-label="Slide 2"
        ></button>
        <button
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide-to="2"
          aria-label="Slide 3"
        ></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img
            src="/images/background/backgroundbase.webp"
            class="d-block w-100"
            alt="Banner 1"
          />
          <div class="carousel-caption d-none d-md-block">
            <h2>Instruments pour tous</h2>
            <p>Découvrez notre large sélection de matériel musical.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="/images/background/backgroundbase.webp"
            class="d-block w-100"
            alt="Banner 2"
          />
          <div class="carousel-caption d-none d-md-block">
            <h2>Professionnels et particuliers</h2>
            <p>Des solutions adaptées à vos besoins.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="/images/background/backgroundbase.webp"
            class="d-block w-100"
            alt="Banner 3"
          />
          <div class="carousel-caption d-none d-md-block">
            <h2>Matériel de qualité</h2>
            <p>Fournisseurs reconnus, prix compétitifs.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="about-section py-5 text-center">
    <div class="container">
      <h2>À propos de Village Green</h2>
      <p class="mt-3">
        Spécialiste dans la distribution de matériel musical, Village Green vous
        propose une expérience unique avec un catalogue riche et varié, des prix
        adaptés et un service client dédié. Découvrez nos instruments pour
        particuliers et professionnels.
      </p>
    </div>
  </section>

  <section class="categories-section py-5">
    <div class="container">
      <h2 class="text-center">Explorez nos catégories</h2>
      <div class="row mt-4">
        {% set rubriques = rubriques %} {% for rubrique in rubriques|slice(0, 4)
        %}
        <div class="col-md-3">
          <div class="category-card text-center p-3">
            <a href="{{ path('app_rubrique_show', { id: rubrique.id }) }}">
              <img
                src="{{ asset('images/rubriques/' ~ rubrique.libelleImage) }}"
                class="card-img"
                alt="{{ rubrique.labelRubrique }}"
              />
            </a>
            <h5 class="mt-3">{{ rubrique.labelRubrique }}</h5>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </section>


  <section class="categories-section py-5">
    <div class="container">
      <h2 class="text-center">Produits en vedette</h2>
      <div class="row mt-4">
        {% set produits = produits %} 
            {% for produit in produits | slice(0, 4) %}
        <div class="col-md-3">
          <div class="category-card text-center p-3 h-50 w-100">
            <a href="{{ path('app_produit_show', { id: produit.id }) }}">
              {% if produit.images|length > 0 %}
                  <img src="{{ asset('images/produits/' ~ produit.images[0].libelleImage) }}" alt="{{ produit.libelleCourt }}" style="width: -webkit-fill-available;  height: 155px; object-fit: cover;">
              {% else %}
                  <img src="{{ asset('images/default-product.png') }}" alt="Image par défaut">
              {% endif %}
            </a>
            <h5 class="mt-3">{{ produit.libelleCourt }}</h5>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </section>
</main>

{% endblock %}
